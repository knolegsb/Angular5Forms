<div class="panel panel-primary">
  <div class="panel-heading">
    Sign Up!
  </div>

  <div class="panel-body">
    <form class="form-horizontal" novalidate autocomplete="off" (ngSubmit)="save(signupForm)" #signupForm="ngForm">
      <fieldset>
        <div class="form-group" [ngClass]="{'has-error': (firstNameVar.touched || firstNameVar.dirty) && !firstNameVar.valid}">
          <label class="col-md-2 control-label" for="firstName">First Name</label>
          <div class="col-md-8">
            <input type="text" class="form-control" id="firstNameId" 
              placeholder="First Name (required)" required minlength="3"
              [(ngModel)]=user.firstName name="firstName" #firstNameVar="ngModel" />
            <span class="help-block" *ngIf="(firstNameVar.touched || firstNameVar.dirty) && firstNameVar.errors">
              <span *ngIf="firstNameVar.errors.required">
                Please enter your first name.
              </span>                
              <span *ngIf="firstNameVar.errors.minlength">
                The first name must be longer than 3 characters.
              </span>
            </span>
          </div>
        </div>

        <div class="form-group" [ngClass]="{'has-error': (lastNameVar.touched || lastNameVar.dirty) && !lastNameVar.valid}">
          <label class="col-md-2 control-label" for="lastNameId">Last Name</label>
          <div class="col-md-8">
            <input type="text" class="form-control" id="lastNameId" 
              placeholder="Last Name (required)" required maxlength="50" 
              [(ngModel)]="user.lastName" name="lastName" #lastNameVar="ngModel" />
            <span class="help-block" *ngIf="(lastNameVar.touched || lastNameVar.dirty) && lastNameVar.errors">
              <span *ngIf="lastNameVar.errors.required">
                Please enter your last name.
              </span>              
            </span>
          </div>
        </div>

        <div class="form-group" [ngClass]="{'has-error': (emailVar.touched || emailVar.dirty) && !emailVar.valid}">
          <label class="col-md-2 control-label" for="emailId">Email</label>
          <div class="col-md-8">
            <input type="text" class="form-control" id="emailId"
              placeholder="Email (required)" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+"
              [(ngModel)]="user.email" name="email" #emailVar="ngModel" />
            <span class="help-block" *ngIf="(emailVar.touched || emailVar.dirty) && emailVar.errors">
              <span *ngIf="emailVar.errors.required">
                Please enter your email address.
              </span>
              <span *ngIf="emailVar.errors.pattern">
                please enter a valid email address.
              </span>

              <!-- this one does not work -->
              <span *ngIf="emailVar.errors.email">
                Please enter a valid email address
              </span>
            </span>
          </div>
        </div>

        <div class="form-group">
          <div class="col-md-offset-1 col-md-8 checkbox">
            <label>
              <input id="sendCatalogId" type="checkbox" [(ngModel)]="user.sendCatalog" name="sendCatalog" />
                Send me your catalog
            </label>
          </div>
        </div>

        <div *ngIf="user.sendCatalog">
          <div class="form-group">
            <label class="col-md-2 control-label">Address Type</label>
            <div class="col-md-8">
              <label class="radio-inline">
                <input type="radio" id="addressType1Id" value="home" [(ngModel)]="user.addressType" name="addressType">Home
              </label>
              <label class="radio-inline">
                <input type="radio" id="addressType1Id" value="work" [(ngModel)]="user.addressType" name="addressType">work
              </label>
              <label class="radio-inline">
                <input type="radio" id="addressType1Id" value="other" [(ngModel)]="user.addressType" name="addressType">Other
              </label>
            </div>
          </div>

          <div class="form-group">
            <label class="col-md-2 control-label" for="street1Id">Street Address 1</label>
            <div class="col-md-8">
              <input type="text" class="form-control" id="street1Id" placeholder="Street Address" [(ngModel)]="user.street1" name="street1" />              
            </div>
          </div>

          <div class="form-group">
            <label class="col-md-2 control-label" for="street2Id">Street Address 2</label>
            <div class="col-md-8">
              <input type="text" class="form-control" id="street2Id" placeholder="Street Address (second line)" [(ngModel)]="user.street2" name="street2" />              
            </div>
          </div>

          <div class="form-group">
            <label class="col-md-2 control-label" for="cityId">City, State, Zip Code</label>
            <div class="col-md-3">
              <input type="text" class="form-control" id="cityId" placeholder="City" [(ngModel)]="user.city" name="city" />              
            </div>
            <div class="col-md-3">
              <select class="form-control" id="stateId" [(ngModel)]="user.state" name="state">
                <option value="" disabled selected hidden>Select a State...</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="DC">District Of Columbia</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
              </select>
            </div>
            <div class="col-md-2">
              <input type="number" class="form-control" id="zipId" placeholder="Zip Code" [(ngModel)]="user.zip" name="zip">
            </div>
          </div>          
        </div>

        <div class="form-group">
          <div class="col-md-4 col-md-offset-2">
            <span>
              <button class="btn btn-primary" type="submit" [disabled]="!signupForm.valid">
                Save
              </button>
            </span>
          </div>    
        </div>
      </fieldset>
    </form>
  </div>
</div>

<br>Dirty: {{signupForm.dirty}}
<br>Touched: {{signupForm.touched}}
<br>Valid: {{signupForm.valid}}
<br>Value: {{signupForm.value | json}}